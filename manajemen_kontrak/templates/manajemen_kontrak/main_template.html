{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SiLPBJ | Manajemen Kontrak</title>

    <link
      rel="icon"
      type="image/png"
      href="https://simpeg.kemsos.go.id/assets/ico/favicon.ico"
    />
    <!-- Google Font: Source Sans Pro -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback"
    />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="{% static 'admin-lte/plugins/fontawesome-free/css/all.min.css' %}"
    />
    <!-- CSS Buatan sendiri -->
     <link rel="stylesheet" href="{% static 'css/style.css' %}"/>
    <!-- Ionicons -->
    <link
      rel="stylesheet"
      href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css"
    />
    <!-- Tempusdominus Bootstrap 4 -->
    <link
      rel="stylesheet"
      href="{% static 'admin-lte/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css' %}"
    />
    <!-- iCheck -->
    <link
      rel="stylesheet"
      href="{% static 'admin-lte/plugins/icheck-bootstrap/icheck-bootstrap.min.css' %}"
    />
    <!-- JQVMap -->
    <link
      rel="stylesheet"
      href="{% static 'admin-lte/plugins/jqvmap/jqvmap.min.css' %}"
    />
    <!-- Theme style -->
    <link
      rel="stylesheet"
      href="{% static 'admin-lte/dist/css/adminlte.min.css' %}"
    />
    <!-- overlayScrollbars -->
    <link
      rel="stylesheet"
      href="{% static 'admin-lte/plugins/overlayScrollbars/css/OverlayScrollbars.min.css' %}"
    />
    <!-- Daterange picker -->
    <link
      rel="stylesheet"
      href="{% static 'admin-lte/plugins/daterangepicker/daterangepicker.css' %}"
    />
    <!-- summernote -->
    <link
      rel="stylesheet"
      href="{% static 'admin-lte/plugins/summernote/summernote-bs4.min.css' %}"
    />
    <!-- Ekko Lightbox -->
    <link
      rel="stylesheet"
      href="{% static 'admin-lte/plugins/ekko-lightbox/ekko-lightbox.css' %}"
    />

    <!-- gijgo css\gijgo.min.css -->
    <link rel="stylesheet" href="{% static 'gijgo/css/gijgo.min.css' %}" />

    <!-- DataTables -->
    <link
      rel="stylesheet"
      href="{% static 'admin-lte/plugins/datatables-bs4/css/dataTables.bootstrap4.min.css' %}"
    />
    <link
      rel="stylesheet"
      href="{% static 'admin-lte/plugins/datatables-responsive/css/responsive.bootstrap4.min.css' %}"
    />
    <link
      rel="stylesheet"
      href="{% static 'admin-lte/plugins/datatables-buttons/css/buttons.bootstrap4.min.css' %}"
    />

    <!-- fullCalendar -->
  <link rel="stylesheet" href="{% static 'admin-lte/plugins/fullcalendar/main.css' %}">

  </head>
  <body class="hold-transition sidebar-mini layout-fixed">
    <div class="wrapper">
      <!-- Preloader -->
      <div
        class="preloader flex-column justify-content-center align-items-center"
      >
        <img
          class="animation__shake"
          src="{% static 'login/images/logokemsos.gif' %}"
          alt="UKPBJ"
          height="250"
          width="250"
        />
      </div>

      <!-- Navbar -->
      <nav class="main-header navbar navbar-expand navbar-white navbar-light">
        <!-- Left navbar links -->
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" data-widget="pushmenu" href="#" role="button"
              ><i class="fas fa-bars"></i
            ></a>
          </li>
          <li class="nav-item d-none d-sm-inline-block">
            <a href="#" target="_blank" class="nav-link"
              >Sistem Informasi Layanan Pengadaan</a
            >
          </li>
        </ul>

        <!-- Right navbar links -->
        <ul class="navbar-nav ml-auto">
          <!-- User Settings -->
          <li class="nav-item dropdown">
            <a class="nav-link" data-toggle="dropdown" href="#">
              <i class="fa fa-user"></i>
            </a>
            <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
              <div class="dropdown-divider"></div>
              <a href="{% url 'account_setting' %}" class="dropdown-item">
                <i class="fas fa-user mr-2"></i> Pengaturan Profil
              </a>
              <div class="dropdown-divider"></div>
              <a href="{% url 'logout' %}" class="dropdown-item">
                <i class="fas fa-sign-out-alt mr-2"></i> Logout
              </a>
            </div>
            <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
              <span class="dropdown-item dropdown-header"
                >15 Notifications</span
              >
              <div class="dropdown-divider"></div>
              <a href="#" class="dropdown-item">
                <i class="fas fa-envelope mr-2"></i> 4 new messages
                <span class="float-right text-muted text-sm">3 mins</span>
              </a>
              <div class="dropdown-divider"></div>
              <a href="#" class="dropdown-item">
                <i class="fas fa-users mr-2"></i> 8 friend requests
                <span class="float-right text-muted text-sm">12 hours</span>
              </a>
              <div class="dropdown-divider"></div>
              <a href="#" class="dropdown-item">
                <i class="fas fa-file mr-2"></i> 3 new reports
                <span class="float-right text-muted text-sm">2 days</span>
              </a>
              <div class="dropdown-divider"></div>
              <a href="#" class="dropdown-item dropdown-footer"
                >See All Notifications</a
              >
            </div>
          </li>

          <li class="nav-item">
            <a class="nav-link" data-widget="fullscreen" href="#" role="button">
              <i class="fas fa-expand-arrows-alt"></i>
            </a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link"
              data-widget="control-sidebar"
              data-slide="true"
              href="#"
              role="button"
            >
              <i class="fas fa-th-large"></i>
            </a>
          </li>
        </ul>
      </nav>
      <!-- /.navbar -->

      <!-- Main Sidebar Container -->
      <aside class="main-sidebar sidebar-dark-primary elevation-4">
        <!-- Brand Logo -->

        <!-- Sidebar -->
        <div class="sidebar">
          <!-- Sidebar user panel (optional) -->
          <div class="user-panel mt-3 pb-3 mb-3 d-flex">
            <div class="image">
              <img
                src="{{request.user.useradmin.profil_pic.url}}"
                class="img-circle elevation-2"
                alt="User Image"
              />
            </div>
            <div class="info">
              <a href="#" class="d-block">{{request.user.useradmin.nama}}</a>
            </div>
          </div>

          <!-- Sidebar Menu -->
          <nav class="mt-2">
            <ul
              class="nav nav-pills nav-sidebar flex-column"
              data-widget="treeview"
              role="menu"
              data-accordion="false"
            >
              <!-- Add icons to the links using the .nav-icon class
               with font-awesome or any other icon font library -->
              <li class="nav-header">SiLP</li>

              <li class="nav-item">
                <a href="#" class="nav-link">
                  <i class="nav-icon fas fa-book"></i>
                  <p>
                    Manajemen Kontrak
                    <i class="fas fa-angle-left right"></i>
                  </p>
                </a>
                <ul class="nav nav-treeview">
                  <li class="nav-item">
                    <a href="{% url 'EntryBarang' %}" class="nav-link">
                      <i class="far fa-circle nav-icon"></i>
                      <p>Entry Barang</p>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a href="{% url 'EntryPenyedia' %}" class="nav-link">
                      <i class="far fa-circle nav-icon"></i>
                      <p>Entry Penyedia</p>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a href="{% url 'EntryKontrak' tahun %}" class="nav-link">
                      <i class="far fa-circle nav-icon"></i>
                      <p>Entry Kontrak</p>
                    </a>
                  </li>
                </ul>
              </li>
            </ul>
          </nav>
          <!-- /.sidebar-menu -->
        </div>
        <!-- /.sidebar -->
      </aside>

      {% block content %} {% endblock %}

      <footer class="main-footer">
        <strong>Sistem Informasi Layanan Pengadaan</strong>
        <strong
          >Copyright &copy; 2021
          <a href="https://ukpbj.kemsos.go.id">Biro Umum Kementerian Sosial</a
          >.</strong
        >
        <!-- All rights reserved. -->
        <div class="float-right d-none d-sm-inline-block"><b>Versi</b> 1.0</div>
      </footer>

      <!-- Control Sidebar -->
      <aside class="control-sidebar control-sidebar-dark">
        <!-- Control sidebar content goes here -->
      </aside>
      <!-- /.control-sidebar -->
    </div>
    <!-- ./wrapper -->

    <!-- jQuery -->
    <script src="{% static 'admin-lte/plugins/jquery/jquery.min.js' %}"></script>
    <!-- jQuery UI 1.11.4 -->
    <script src="{% static 'admin-lte/plugins/jquery-ui/jquery-ui.min.js' %}"></script>
    <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
    <script>
      $.widget.bridge("uibutton", $.ui.button);
    </script>
    <!-- Bootstrap 4 -->
    <script src="{% static 'admin-lte/plugins/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
    <!-- ChartJS -->
    <script src="{% static 'admin-lte/plugins/chart.js/Chart.min.js' %}"></script>
    <!-- Sparkline -->
    <script src="{% static 'admin-lte/plugins/sparklines/sparkline.js' %}"></script>
    <!-- JQVMap -->
    <script src="{% static 'admin-lte/plugins/jqvmap/jquery.vmap.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/jqvmap/maps/jquery.vmap.usa.js' %}"></script>
    <!-- jQuery Knob Chart -->
    <script src="{% static 'admin-lte/plugins/jquery-knob/jquery.knob.min.js' %}"></script>
    <!-- daterangepicker -->
    <script src="{% static 'admin-lte/plugins/moment/moment.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/daterangepicker/daterangepicker.js' %}"></script>
    <!-- Tempusdominus Bootstrap 4 -->
    <script src="{% static 'admin-lte/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js' %}"></script>
    <!-- Summernote -->
    <script src="{% static 'admin-lte/plugins/summernote/summernote-bs4.min.js' %}"></script>
    <!-- overlayScrollbars -->
    <script src="{% static 'admin-lte/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js' %}"></script>
    <!-- AdminLTE App -->
    <script src="{% static 'admin-lte/dist/js/adminlte.js' %}"></script>
    <!-- AdminLTE for demo purposes -->
    <script src="{% static 'admin-lte/dist/js/demo.js' %}"></script>
    <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
    <script src="{% static 'admin-lte/dist/js/pages/dashboard.js' %}"></script>

    <!-- DataTables  & Plugins -->
    <script src="{% static 'admin-lte/plugins/datatables/jquery.dataTables.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/datatables-bs4/js/dataTables.bootstrap4.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/datatables-responsive/js/dataTables.responsive.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/datatables-responsive/js/responsive.bootstrap4.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/datatables-buttons/js/dataTables.buttons.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/datatables-buttons/js/buttons.bootstrap4.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/jszip/jszip.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/pdfmake/pdfmake.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/pdfmake/vfs_fonts.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/datatables-buttons/js/buttons.html5.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/datatables-buttons/js/buttons.print.min.js' %}"></script>
    <script src="{% static 'admin-lte/plugins/datatables-buttons/js/buttons.colVis.min.js' %}"></script>

    <!-- Ekko Lightbox -->
    <script src="{% static 'admin-lte/plugins/ekko-lightbox/ekko-lightbox.min.js' %}"></script>

    <!-- gijgo.min.js -->
    <script src="{% static 'gijgo/js/gijgo.min.js' %}"></script>

    <!-- javascript buatan sendiri -->
     <script src="{% static 'js/main.js' %}"></script>


    <!-- autocomplete -->

    <link
      rel="stylesheet"
      href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css"
    />
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.5/chosen.jquery.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.8.5/chosen.min.css"
    />

    <script>
      $(function () {
        $("#example1")
          .DataTable({
            responsive: true,
            lengthChange: false,
            autoWidth: false,
            buttons: ["copy", "csv", "excel", "pdf", "print", "colvis"],
          })
          .buttons()
          .container()
          .appendTo("#example1_wrapper .col-md-6:eq(0)");
        $("#example2").DataTable({
          paging: true,
          lengthChange: false,
          searching: false,
          ordering: true,
          info: true,
          autoWidth: false,
          responsive: true,
        });
      });
    </script>

    <!-- gijgo elemen for calendar id_tanggal_kontrak, uiLibrary: 'bootstrap4', iconsLibrary: 'fontawesome',-->
    <script>
      $("#id_tanggal_kontrak").datepicker({
        value: '{% now "d/m/Y" %}',
        uiLibrary: "bootstrap4",
        iconsLibrary: "fontawesome",
        calendarWeeks: true,
        modal: true,
        footer: true,
      });

      $("#id_tanggal_berakhir_kontrak").datepicker({
        value: '{% now "d/m/Y" %}',
        uiLibrary: "bootstrap4",
        iconsLibrary: "fontawesome",
        calendarWeeks: true,
        modal: true,
        footer: true,
      });

      $("#id_tanggal_dipa").datepicker({
        value: '{% now "d/m/Y" %}',
        uiLibrary: "bootstrap4",
        iconsLibrary: "fontawesome",
        calendarWeeks: true,
        modal: true,
        footer: true,
      });

      $("#id_tanggal_pemeriksaan").datepicker({
        value: '{% now "d/m/Y" %}',
        uiLibrary: "bootstrap4",
        iconsLibrary: "fontawesome",
        calendarWeeks: true,
        modal: true,
        footer: true,
      });
      
    </script>

    <script>
      $(function () {
        $(document).on("click", '[data-toggle="lightbox"]', function (event) {
          event.preventDefault();
          $(this).ekkoLightbox({
            alwaysShowClose: true,
          });
        });

        $(".filter-container").filterizr({ gutterPixels: 3 });
        $(".btn[data-filter]").on("click", function () {
          $(".btn[data-filter]").removeClass("active");
          $(this).addClass("active");
        });
      });
    </script>

    <script type="text/javascript">
      $("#id_penyedia").chosen({ width: "100%" });
      $(".select").chosen({ width: "100%" });
      $("#namaBarang").chosen({ width: "100%" });
    </script>


    
    <!-- fullCalendar 2.2.5 -->
    <script src="{% static 'admin-lte/plugins/fullcalendar/main.js' %}"></script>
    <!-- Page specific script -->
    <script>
      $(function () {

        /* initialize the external events
         -----------------------------------------------------------------*/
        function ini_events(ele) {
          ele.each(function () {

            // create an Event Object (https://fullcalendar.io/docs/event-object)
            // it doesn't need to have a start or end
            var eventObject = {
              title: $.trim($(this).text()) // use the element's text as the event title
            }

            // store the Event Object in the DOM element so we can get to it later
            $(this).data('eventObject', eventObject)

            // make the event draggable using jQuery UI
            $(this).draggable({
              zIndex        : 1070,
              revert        : true, // will cause the event to go back to its
              revertDuration: 0  //  original position after the drag
            })

          })
        }

        ini_events($('#external-events div.external-event'))

        /* initialize the calendar
         -----------------------------------------------------------------*/
        //Date for the calendar events (dummy data)
        var date = new Date()
        var d    = date.getDate(),
            m    = date.getMonth(),
            y    = date.getFullYear()

        var Calendar = FullCalendar.Calendar;
        var Draggable = FullCalendar.Draggable;

        var containerEl = document.getElementById('external-events');
        var checkbox = document.getElementById('drop-remove');
        var calendarEl = document.getElementById('calendar');

        // initialize the external events
        // -----------------------------------------------------------------

        new Draggable(containerEl, {
          itemSelector: '.external-event',
          eventData: function(eventEl) {
            return {
              title: eventEl.innerText,
              backgroundColor: window.getComputedStyle( eventEl ,null).getPropertyValue('background-color'),
              borderColor: window.getComputedStyle( eventEl ,null).getPropertyValue('background-color'),
              textColor: window.getComputedStyle( eventEl ,null).getPropertyValue('color'),
            };
          }
        });

        var calendar = new Calendar(calendarEl, {
          headerToolbar: {
            left  : 'prev,next today',
            center: 'title',
            right : 'dayGridMonth,timeGridWeek,timeGridDay'
          },
          themeSystem: 'bootstrap',
          //Random default events
          //events: [
          //  {
          //    title          : 'All Day Event',
          //    start          : new Date(y, m, 1),
          //    backgroundColor: '#f56954', //red
          //    borderColor    : '#f56954', //red
          //    allDay         : true
          //  },
          //  {
          //    title          : 'Long Event',
          //    start          : new Date(y, m, d - 5),
          //    end            : new Date(y, m, d - 2),
          //    backgroundColor: '#f39c12', //yellow
          //    borderColor    : '#f39c12' //yellow
          //  },
          //  {
          //    title          : 'Meeting',
          //    start          : new Date(y, m, d, 10, 30),
          //    allDay         : false,
          //    backgroundColor: '#0073b7', //Blue
          //    borderColor    : '#0073b7' //Blue
          //  },
          //  {
          //    title          : 'Lunch',
          //    start          : new Date(y, m, d, 12, 0),
          //    end            : new Date(y, m, d, 14, 0),
          //    allDay         : fals//e,
          //    backgroundColor: '#00//c0ef', //Info (aqua)
          //  //  borderColor    : '#00c0ef' //Info (aqua)
          //  //},
          // // {
          // //   title          : 'Birthday Party',
          // //   start          : new Date(y, m, d + 1, 19, 0),
          // //   end            : new Date(y, m, d + 1, 22, 30),
          // //   allDay         : false,
          //    backgroundColor: '#00a65a', //Success (green)
          //    borderColor    : '#00a65a' //Success (green)
          //  },
          //  {
          //    title          : 'Click for Google',
          //    start          : new Date(y, m, 28),
          //    end            : new Date(y, m, 29),
          //    url            : 'https://www.google.com/',
          //    backgroundColor: '#3c8dbc', //Primary (light-blue)
          //    borderColor    : '#3c8dbc' //Primary (light-blue)
          //  }
          //],
          editable  : true,
          droppable : true, // this allows things to be dropped onto the calendar !!!
          drop      : function(info) {
            // is the "remove after drop" checkbox checked?
            if (checkbox.checked) {
              // if so, remove the element from the "Draggable Events" list
              info.draggedEl.parentNode.removeChild(info.draggedEl);
            }
          }
        });

        calendar.render();
        // $('#calendar').fullCalendar()

        /* ADDING EVENTS */
        var currColor = '#3c8dbc' //Red by default
        // Color chooser button
        $('#color-chooser > li > a').click(function (e) {
          e.preventDefault()
          // Save color
          currColor = $(this).css('color')
          // Add color effect to button
          $('#add-new-event').css({
            'background-color': currColor,
            'border-color'    : currColor
          })
        })
        $('#add-new-event').click(function (e) {
          e.preventDefault()
          // Get value and make sure it is not null
          var val = $('#new-event').val()
          if (val.length == 0) {
            return
          }

          // Create events
          var event = $('<div />')
          event.css({
            'background-color': currColor,
            'border-color'    : currColor,
            'color'           : '#fff'
          }).addClass('external-event')
          event.text(val)
          $('#external-events').prepend(event)

          // Add draggable funtionality
          ini_events(event)

          // Remove event from text input
          $('#new-event').val('')
        })
      })
    </script>

  </body>
</html>
